(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{89820:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/stock/historial-movimientos",function(){return a(88348)}])},88348:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var l=a(74848),o=a(96540),s=a(32885),r=a(20312),i=a.n(r),n=a(23093);a(74338);var c=a(77037),d=a(96365),u=a(46005),m=a(4213),b=a(13596);a(13246);var x=a(3959);i().setAppElement("#__next");let g={content:{top:"50%",left:"50%",width:"400px",maxWidth:"90%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",padding:"1rem",borderRadius:"8px"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},p={position:"top-center",theme:"colored",style:{backgroundColor:"#4caf50"}},h=e=>{if(!e)return"----";let t=new Date(e),a=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return"".concat(a,"-").concat(l,"-").concat(o," ").concat(s,":").concat(r)},v=e=>{let{globalFilter:t,setGlobalFilter:a}=e;return(0,l.jsx)("input",{value:t||"",onChange:e=>a(e.target.value),placeholder:"Buscar en todos los campos...",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-black text-sm"})},f=[{key:"nombre",label:"Nombre",selected:!0},{key:"categoria",label:"Categor\xeda",selected:!0},{key:"cantidad",label:"Cantidad",selected:!0},{key:"prestado",label:"Prestado",selected:!0},{key:"motivo",label:"Motivo",selected:!0},{key:"tipo_movimiento",label:"Tipo Movimiento",selected:!0},{key:"usuario",label:"Usuario",selected:!0},{key:"fecha",label:"Fecha",selected:!0},{key:"marca",label:"Marca",selected:!0},{key:"modelo",label:"Modelo",selected:!0},{key:"ubicacion",label:"Ubicaci\xf3n",selected:!0},{key:"estado",label:"Estado",selected:!0},{key:"numero_serie",label:"N\xb0 Serie",selected:!0},{key:"mac",label:"MAC",selected:!0},{key:"codigo_interno",label:"C\xf3digo Interno",selected:!0},{key:"codigo_minvu",label:"C\xf3digo Minvu",selected:!0},{key:"descripcion",label:"Descripci\xf3n",selected:!0},{key:"stock_actual",label:"Stock Actual",selected:!0},{key:"stock_anterior",label:"Stock Anterior",selected:!0}],y=()=>{let[e,t]=(0,o.useState)([]),[a,r]=(0,o.useState)([]),[y,j]=(0,o.useState)([]),[k,N]=(0,o.useState)([]),[w,S]=(0,o.useState)([]),[C,_]=(0,o.useState)([]),[E,F]=(0,o.useState)([]),[M,A]=(0,o.useState)([]),[P,R]=(0,o.useState)([]),[D,H]=(0,o.useState)(!0),[T,B]=(0,o.useState)(null),[O,W]=(0,o.useState)(!1),[z,I]=(0,o.useState)(""),[L,G]=(0,o.useState)(null),[U,X]=(0,o.useState)(null),[V,Y]=(0,o.useState)(null),[J,q]=(0,o.useState)(null),[Q,Z]=(0,o.useState)(""),[K,$]=(0,o.useState)(""),[ee,et]=(0,o.useState)(""),[ea,el]=(0,o.useState)(""),[eo,es]=(0,o.useState)(50),[er,ei]=(0,o.useState)(!1),[en,ec]=(0,o.useState)(f),[ed,eu]=(0,o.useState)(null),em=(0,o.useCallback)((e,t)=>Array.isArray(e)&&e.find(e=>e.id===t)||{},[]);(0,o.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("access_token");if(!e){B("No se encontr\xf3 el token de acceso.");return}let a={"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},[l,o,s,i,n,c,d,u,m]=await Promise.all([fetch("http://127.0.0.1:8000/api/articulos/",{headers:a}).then(e=>e.json()),fetch("http://127.0.0.1:8000/api/categorias/",{headers:a}).then(e=>e.json()),fetch("http://127.0.0.1:8000/api/modelos/",{headers:a}).then(e=>e.json()),fetch("http://127.0.0.1:8000/api/marcas/",{headers:a}).then(e=>e.json()),fetch("http://127.0.0.1:8000/api/ubicaciones/",{headers:a}).then(e=>e.json()),fetch("http://127.0.0.1:8000/api/historial-stock/",{headers:a}).then(e=>e.json()),fetch("http://127.0.0.1:8000/api/usuarios/",{headers:a}).then(e=>e.json()),fetch("http://127.0.0.1:8000/api/motivos/",{headers:a}).then(e=>e.json()),fetch("http://127.0.0.1:8000/api/estados/",{headers:a}).then(e=>e.json())]),b=new Map;c.forEach(e=>{let t="".concat(e.articulo,"-").concat(e.tipo_movimiento,"-").concat(e.usuario,"-").concat(e.fecha,"-").concat(e.cantidad);b.has(t)||b.set(t,e)});let x=Array.from(b.values());x.sort((e,t)=>new Date(t.fecha)-new Date(e.fecha)),_(x),t(l),r(o),j(s),N(i),S(n),F(d),A(u);let g=m.map(e=>({value:e.id,label:e.nombre}));R(g)}catch(e){console.error(e),B("Error al cargar los datos.")}finally{H(!1)}})()},[em]);let eb=(0,o.useMemo)(()=>e.map(e=>({value:e.id,label:e.nombre})),[e]),ex=(0,o.useMemo)(()=>a.map(e=>({value:e.id,label:e.nombre})),[a]),eg=(0,o.useMemo)(()=>y.map(e=>({value:e.id,label:e.nombre})),[y]);(0,o.useMemo)(()=>k.map(e=>({value:e.id,label:e.nombre})),[k]);let ep=(0,o.useMemo)(()=>{let t=e;L&&(t=t.filter(e=>e.id===L.value)),U&&(t=t.filter(e=>e.categoria===U.value)),V&&(t=t.filter(e=>e.modelo===V.value)),J&&(t=t.filter(e=>e.marca===J.value));let a=t.map(e=>e.id),l=C.filter(e=>a.includes(e.articulo));if(z){let t=z.toLowerCase();l=l.filter(a=>{var l;let o=em(e,a.articulo),s=(null===(l=E.find(e=>e.id===a.usuario))||void 0===l?void 0:l.username)||"";return[a.tipo_movimiento||"",a.comentario||"",a.fecha||"",s,o.nombre||""].map(e=>e.toLowerCase()).some(e=>e.includes(t))})}if(Q&&(l=l.filter(e=>e.tipo_movimiento===Q)),K){let e=parseInt(K,10);l=l.filter(t=>t.usuario===e)}let o=e=>e?e.slice(0,10):"";return ee&&(l=l.filter(e=>o(e.fecha)>=ee)),ea&&(l=l.filter(e=>o(e.fecha)<=ea)),l},[e,C,E,L,U,V,J,z,Q,K,ee,ea,em]),eh=(0,o.useMemo)(()=>ep.map(t=>{var l,o,s,r,i,n,c;let d=em(e,t.articulo),u=t.motivo&&(null===(l=M.find(e=>e.id===t.motivo))||void 0===l?void 0:l.nombre)||"----";return{nombre:d.nombre||"----",categoria:(null===(o=em(a,d.categoria))||void 0===o?void 0:o.nombre)||"----",cantidad:t.cantidad||"----",prestado:t.prestado||!1,motivo:u,tipo_movimiento:t.tipo_movimiento||"----",usuario:(null===(s=E.find(e=>e.id===t.usuario))||void 0===s?void 0:s.username)||"----",fecha:t.fecha||"----",subRows:[{marca:(null===(r=em(k,d.marca))||void 0===r?void 0:r.nombre)||"----",modelo:(null===(i=em(y,d.modelo))||void 0===i?void 0:i.nombre)||"----",ubicacion:(null===(n=em(w,d.ubicacion))||void 0===n?void 0:n.nombre)||"----",estado:(null===(c=P.find(e=>e.value===d.estado))||void 0===c?void 0:c.label)||"----",numero_serie:d.numero_serie||"----",mac:d.mac||"----",codigo_interno:d.codigo_interno||"----",codigo_minvu:d.codigo_minvu||"----",descripcion:d.descripcion||"----",stock_actual:d.stock_actual||"----",stock_anterior:t.stock_anterior||"----"}]}}),[ep,e,a,k,y,w,E,M,P,em]),ev=(0,o.useMemo)(()=>[{Header:"",id:"expander",Cell:e=>{let{row:t}=e;return t.canExpand?(0,l.jsx)("span",{...t.getToggleRowExpandedProps(),className:"cursor-pointer text-gray-600",children:t.isExpanded?(0,l.jsx)(c.Vr3,{}):(0,l.jsx)(c.X6T,{})}):null},width:30},{Header:"Nombre",accessor:"nombre"},{Header:"Categor\xeda",accessor:"categoria"},{Header:"Cantidad",accessor:"cantidad"},{Header:"Movimiento",accessor:"tipo_movimiento",Cell:e=>{let{value:t}=e,a="bg-gray-200",o="text-black";switch(t){case"Entrada":a="bg-green-100",o="text-green-800";break;case"Salida":a="bg-red-100",o="text-red-800";break;case"Cambio de Estado":a="bg-yellow-100",o="text-yellow-800";break;case"Prestamo":a="bg-purple-100",o="text-purple-800";break;case"Regresado":a="bg-orange-100",o="text-orange-800";break;case"Nuevo Articulo":a="bg-blue-100",o="text-blue-800";break;default:a="bg-gray-200",o="text-black"}return(0,l.jsx)("span",{className:"".concat(a," ").concat(o," px-2 py-1 rounded-full text-xs font-semibold"),children:t})}},{Header:"Usuario",accessor:"usuario"},{Header:"Fecha",accessor:"fecha",Cell:e=>{let{value:t}=e;return h(t)}}],[]),ef=e=>{let t=[{label:"Marca",value:e.marca},{label:"Modelo",value:e.modelo},{label:"Ubicaci\xf3n",value:e.ubicacion},{label:"Estado",value:e.estado},{label:"N\xb0 Serie",value:e.numero_serie},{label:"MAC",value:e.mac},{label:"C\xf3digo Interno",value:e.codigo_interno},{label:"C\xf3digo Minvu",value:e.codigo_minvu},{label:"Descripci\xf3n",value:e.descripcion},{label:"Stock Actual",value:e.stock_actual},{label:"Stock Anterior",value:e.stock_anterior}];return(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4 bg-gray-100",children:t.map((e,t)=>(0,l.jsxs)("div",{className:"flex flex-col text-sm bg-white p-3 rounded-md shadow-sm border",children:[(0,l.jsxs)("span",{className:"font-semibold text-gray-700",children:[e.label,":"]}),(0,l.jsx)("span",{className:"text-gray-600",children:e.value})]},t))})},{getTableProps:ey,getTableBodyProps:ej,headerGroups:ek,page:eN,prepareRow:ew,state:{pageIndex:eS,pageSize:eC},setGlobalFilter:e_,canPreviousPage:eE,canNextPage:eF,pageCount:eM,gotoPage:eA,nextPage:eP,previousPage:eR,setPageSize:eD}=(0,s.useTable)({columns:ev,data:eh,initialState:{pageIndex:0,pageSize:10}},s.useGlobalFilter,s.useSortBy,s.useExpanded,s.usePagination);(0,o.useEffect)(()=>{e_(z)},[z,e_]);let eH=()=>eh.slice(0,"all"===eo?void 0:eo).map(e=>{var t;let a=(null===(t=e.subRows)||void 0===t?void 0:t[0])||{};return{nombre:e.nombre,categoria:e.categoria,cantidad:e.cantidad,prestado:e.prestado?"S\xed":"No",motivo:e.motivo,tipo_movimiento:e.tipo_movimiento,usuario:e.usuario,fecha:e.fecha,marca:a.marca,modelo:a.modelo,ubicacion:a.ubicacion,estado:a.estado,numero_serie:a.numero_serie,mac:a.mac,codigo_interno:a.codigo_interno,codigo_minvu:a.codigo_minvu,descripcion:a.descripcion,stock_actual:a.stock_actual,stock_anterior:a.stock_anterior}}),eT=en.filter(e=>e.selected),eB=()=>{try{let e=eH(),t=[eT.map(e=>e.label)],a=e.map(e=>eT.map(t=>{var a;return"fecha"===t.key?h(e[t.key]):null!==(a=e[t.key])&&void 0!==a?a:""})),l=new b.default("l","pt","a4");l.setFontSize(12),l.text("Historial de Movimientos",40,40),l.setFontSize(10),l.text("Fecha de exportaci\xf3n: "+new Date().toLocaleString(),40,60),l.autoTable({startY:80,head:t,body:a,styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[211,211,211],textColor:20,fontStyle:"bold"},margin:{left:10,right:10},tableWidth:"auto"});let o=l.output("bloburl");window.open(o,"_blank"),n.oR.success("PDF exportado correctamente.",p)}catch(e){console.error(e),n.oR.error("Error al exportar PDF.",p)}},eO=e=>{eu(e),ei(!0)};return D?(0,l.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:(0,l.jsx)("div",{className:"text-xl text-blue-500",children:"Cargando..."})}):T?(0,l.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:(0,l.jsx)("div",{className:"text-xl text-red-500",children:T})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.N9,{position:"top-center",autoClose:2e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50",children:[(0,l.jsx)(d.A,{}),(0,l.jsxs)(i(),{isOpen:er,onRequestClose:()=>ei(!1),style:g,contentLabel:"Selecci\xf3n de Columnas",children:[(0,l.jsx)("h2",{className:"text-lg font-bold mb-3",children:"Seleccionar Columnas"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:en.map((e,t)=>(0,l.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:e.selected,onChange:()=>{let e=[...en];e[t]={...e[t],selected:!e[t].selected},ec(e)}}),(0,l.jsx)("span",{children:e.label})]},e.key))}),(0,l.jsxs)("div",{className:"flex justify-end mt-4 space-x-2",children:[(0,l.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",onClick:()=>ei(!1),children:"Cancelar"}),(0,l.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{ei(!1),"pdf"===ed&&eB()},children:"Exportar PDF"})]})]}),(0,l.jsxs)("div",{className:"flex-1 p-4 md:ml-64",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 space-y-2 sm:space-y-0",children:[(0,l.jsxs)("div",{className:"flex items-center w-full sm:w-1/2",children:[(0,l.jsx)(v,{globalFilter:z,setGlobalFilter:I}),(0,l.jsx)("button",{onClick:()=>W(!O),className:"flex items-center justify-center ml-2 bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition-colors focus:outline-none",title:O?"Ocultar Filtros":"Mostrar Filtros",children:(0,l.jsx)(c.YsJ,{})})]}),(0,l.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,l.jsxs)("button",{onClick:()=>{try{let e=eH(),t=[["Historial de Movimientos"],["Fecha de exportaci\xf3n: "+new Date().toLocaleString()],[]],a=eT.map(e=>e.label);t.push(a),e.forEach(e=>{let a=eT.map(t=>{var a;return"fecha"===t.key?h(e[t.key]):null!==(a=e[t.key])&&void 0!==a?a:""});t.push(a)});let l=x.Wp.book_new(),o=x.Wp.aoa_to_sheet(t);o["!cols"]=Array(a.length).fill({wch:20});let s=x.Wp.decode_range(o["!ref"]);for(let e=s.s.r;e<=s.e.r;++e)for(let t=s.s.c;t<=s.e.c;++t){let a=x.Wp.encode_cell({r:e,c:t});o[a]&&(o[a].s||(o[a].s={}),o[a].s.border={top:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}}},0===e&&(o[a].s.font={bold:!0,sz:14}),1===e&&(o[a].s.font={italic:!0}),3===e&&(o[a].s.fill={fgColor:{rgb:"D3D3D3"}},o[a].s.font={bold:!0}),e>3&&((e-4)%2==0?o[a].s.fill={fgColor:{rgb:"F7F7F7"}}:o[a].s.fill={fgColor:{rgb:"FFFFFF"}}))}o["!merges"]=[{s:{r:0,c:0},e:{r:0,c:a.length-1}}],o.A1&&o.A1.s&&(o.A1.s.alignment={horizontal:"center"}),x.Wp.book_append_sheet(l,o,"HistorialMovimientos");let r=x.M9(l,{bookType:"xlsx",type:"array"}),i=new Blob([r],{type:"application/octet-stream"});(0,m.saveAs)(i,"HistorialMovimientos_".concat(Date.now(),".xlsx")),n.oR.success("Excel exportado correctamente.",p)}catch(e){console.error(e),n.oR.error("Error al exportar Excel.",p)}},className:"flex items-center justify-center bg-green-500 text-white px-3 py-2 rounded-md hover:bg-green-600 transition-colors text-sm",children:[(0,l.jsx)(c.Ru,{className:"mr-1"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Excel"})]}),(0,l.jsxs)("button",{onClick:()=>eO("pdf"),className:"flex items-center justify-center bg-red-500 text-white px-3 py-2 rounded-md hover:bg-red-600 transition-colors text-sm",children:[(0,l.jsx)(c.kl1,{className:"mr-1"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"PDF"})]}),(0,l.jsxs)("button",{onClick:()=>{try{let e=eH(),t=eT.map(e=>e.label),a=[];a.push(t.join(",")),e.forEach(e=>{let t=eT.map(t=>{let a="fecha"===t.key?h(e[t.key]):e[t.key],l=a?a.toString():"";return((l=l.replace(/"/g,'""')).includes(",")||l.includes('"')||l.includes("\n"))&&(l='"'.concat(l,'"')),l});a.push(t.join(","))});let l=a.join("\n"),o=new Blob([l],{type:"text/csv;charset=utf-8;"});(0,m.saveAs)(o,"HistorialMovimientos_".concat(Date.now(),".csv")),n.oR.success("CSV exportado correctamente.",p)}catch(e){console.error(e),n.oR.error("Error al exportar CSV.",p)}},className:"flex items-center justify-center bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 transition-colors text-sm",children:[(0,l.jsx)(c.QaY,{className:"mr-1"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"CSV"})]})]})]}),O&&(0,l.jsxs)("div",{className:"bg-white shadow-md rounded-md p-4 mb-4 text-sm space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Art\xedculo"}),(0,l.jsx)(u.Ay,{options:eb,value:L,onChange:G,isClearable:!0,placeholder:"Seleccionar Art\xedculo",className:"mt-1"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Categor\xeda"}),(0,l.jsx)(u.Ay,{options:ex,value:U,onChange:X,isClearable:!0,placeholder:"Seleccionar Categor\xeda",className:"mt-1"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Modelo"}),(0,l.jsx)(u.Ay,{options:eg,value:V,onChange:Y,isClearable:!0,placeholder:"Seleccionar Modelo",className:"mt-1"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo Movimiento"}),(0,l.jsxs)("select",{value:Q,onChange:e=>Z(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 text-black text-sm bg-gray-100",children:[(0,l.jsx)("option",{value:"",children:"Todos"}),(0,l.jsx)("option",{value:"Entrada",children:"Entrada"}),(0,l.jsx)("option",{value:"Salida",children:"Salida"}),(0,l.jsx)("option",{value:"Nuevo Articulo",children:"Nuevo Articulo"}),(0,l.jsx)("option",{value:"Cambio de Estado",children:"Cambio de Estado"}),(0,l.jsx)("option",{value:"Prestamo",children:"Prestamo"}),(0,l.jsx)("option",{value:"Regresado",children:"Regresado"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Usuario"}),(0,l.jsxs)("select",{value:K,onChange:e=>$(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 text-black text-sm bg-gray-100",children:[(0,l.jsx)("option",{value:"",children:"Todos"}),E.map(e=>(0,l.jsx)("option",{value:e.id,children:e.username},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha Inicio"}),(0,l.jsx)("input",{type:"date",value:ee,onChange:e=>et(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 text-black text-sm bg-gray-100"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha Fin"}),(0,l.jsx)("input",{type:"date",value:ea,onChange:e=>el(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 text-black text-sm bg-gray-100"})]})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{onClick:()=>{I(""),G(null),X(null),Y(null),q(null),Z(""),$(""),et(""),el("")},className:"flex items-center justify-center bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors text-sm",children:"Borrar Filtros"})})]}),(0,l.jsx)("div",{className:"overflow-x-auto border border-gray-300 rounded-md shadow-sm text-sm",children:(0,l.jsxs)("table",{...ey(),className:"min-w-full bg-white text-black text-sm border-collapse",children:[(0,l.jsx)("thead",{className:"bg-gray-200",children:ek.map(e=>(0,o.createElement)("tr",{...e.getHeaderGroupProps(),key:e.id,className:"whitespace-nowrap"},e.headers.map(e=>(0,o.createElement)("th",{...e.getHeaderProps(e.getSortByToggleProps()),key:e.id,className:"px-4 py-3 text-left font-semibold uppercase text-gray-700 border border-gray-300"},(0,l.jsxs)("div",{className:"flex items-center",children:[e.render("Header"),(0,l.jsx)("span",{className:"ml-2",children:e.isSorted?e.isSortedDesc?(0,l.jsx)(c.GOR,{}):(0,l.jsx)(c.XhJ,{}):(0,l.jsx)(c.MjW,{className:"opacity-50"})})]})))))}),(0,l.jsxs)("tbody",{...ej(),children:[eN.map((e,t)=>{ew(e);let a=e.isExpanded;return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)("tr",{...e.getRowProps(),className:"".concat(t%2==0?"bg-white":"bg-gray-50"," hover:bg-gray-100 whitespace-nowrap"),children:e.cells.map(e=>(0,o.createElement)("td",{...e.getCellProps(),key:e.column.id,className:"px-4 py-2 border border-gray-300"},e.render("Cell")))}),a&&e.original.subRows&&e.original.subRows.length>0&&(0,l.jsx)("tr",{className:"border-t bg-gray-100",children:(0,l.jsx)("td",{colSpan:ev.length,className:"p-4",children:ef(e.original.subRows[0])})})]},e.getRowProps().key)}),0===eN.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:ev.length,className:"px-4 py-4 text-center",children:"No se encontraron registros."})})]})]})}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex space-x-2 mb-2 sm:mb-0",children:[(0,l.jsx)("button",{onClick:()=>eA(0),disabled:!eE,className:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors ".concat(eE?"":"bg-gray-300 cursor-not-allowed"),children:(0,l.jsx)(c.X8f,{})}),(0,l.jsx)("button",{onClick:()=>eR(),disabled:!eE,className:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors ".concat(eE?"":"bg-gray-300 cursor-not-allowed"),children:(0,l.jsx)(c.ed2,{})}),(0,l.jsx)("button",{onClick:()=>eP(),disabled:!eF,className:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors ".concat(eF?"":"bg-gray-300 cursor-not-allowed"),children:(0,l.jsx)(c.FDZ,{})}),(0,l.jsx)("button",{onClick:()=>eA(eM-1),disabled:!eF,className:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors ".concat(eF?"":"bg-gray-300 cursor-not-allowed"),children:(0,l.jsx)(c.eaw,{})})]}),(0,l.jsxs)("span",{className:"text-gray-700 mb-2 sm:mb-0",children:["P\xe1gina ",(0,l.jsx)("strong",{children:eS+1})," de ",(0,l.jsx)("strong",{children:eM})]}),(0,l.jsxs)("select",{value:eC,onChange:e=>eD(Number(e.target.value)),className:"border border-gray-300 rounded-md p-2 text-black bg-white shadow focus:ring-2 focus:ring-blue-500 focus:outline-none hover:bg-gray-50",children:[[10,20,30,50].map(e=>(0,l.jsxs)("option",{value:e,children:[e," por p\xe1gina"]},e)),(0,l.jsx)("option",{value:eh.length,children:"Mostrar todos"})]})]})]})]})]})}},46005:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i});var l=a(52836),o=a(58168),s=a(96540),r=a(107);a(95852),a(40961),a(27003);var i=(0,s.forwardRef)(function(e,t){var a=(0,l.u)(e);return s.createElement(r.S,(0,o.A)({ref:t},a))})},83686:()=>{},32383:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[563,673,971,615,356,23,706,312,885,194,365,636,593,792],()=>t(89820)),_N_E=e.O()}]);